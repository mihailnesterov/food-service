import React, {FC, useState, useEffect} from 'react';
import SearchDropDown from './SearchDropDown';

const Search: FC = () => {

    const [searchValue, setSearchValue] = useState<string | null>("");

	return(
        <div className="search uk-flex uk-flex-middle uk-flex-left">
            <button type="button" className="select-area">
                <span>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 16.0003C11.7663 16.0007 11.5399 15.9194 11.36 15.7703L5.36 10.7703C5.15578 10.6005 5.02736 10.3566 5.00298 10.0922C4.9786 9.82777 5.06026 9.56449 5.23 9.36028C5.39974 9.15606 5.64365 9.02763 5.90808 9.00325C6.1725 8.97888 6.43578 9.06054 6.64 9.23028L12 13.7103L17.36 9.39028C17.4623 9.30721 17.58 9.24518 17.7063 9.20775C17.8327 9.17031 17.9652 9.15822 18.0962 9.17216C18.2272 9.1861 18.3542 9.2258 18.4698 9.28897C18.5855 9.35214 18.6875 9.43755 18.77 9.54028C18.8616 9.6431 18.9309 9.76372 18.9737 9.8946C19.0165 10.0255 19.0318 10.1638 19.0187 10.3008C19.0055 10.4379 18.9642 10.5708 18.8974 10.6911C18.8305 10.8115 18.7395 10.9167 18.63 11.0003L12.63 15.8303C12.4449 15.9558 12.2231 16.0156 12 16.0003Z" fill="#262626"/>
                    </svg>
                </span>
                <span>Рядом</span>
            </button>
            <div className="uk-width-expand uk-position-relative">
                <input 
                    type="text" 
                    placeholder="Найти товары..." 
                    className="search-input"
                    onChange={(e: any) => setSearchValue(e.currentTarget.value)}
                />
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.7656 16.6895L12.6934 11.6172C13.4805 10.5996 13.9062 9.35547 13.9062 8.04688C13.9062 6.48047 13.2949 5.01172 12.1895 3.9043C11.084 2.79687 9.61133 2.1875 8.04688 2.1875C6.48242 2.1875 5.00977 2.79883 3.9043 3.9043C2.79687 5.00977 2.1875 6.48047 2.1875 8.04688C2.1875 9.61133 2.79883 11.084 3.9043 12.1895C5.00977 13.2969 6.48047 13.9062 8.04688 13.9062C9.35547 13.9062 10.5977 13.4805 11.6152 12.6953L16.6875 17.7656C16.7024 17.7805 16.72 17.7923 16.7395 17.8004C16.7589 17.8084 16.7797 17.8126 16.8008 17.8126C16.8218 17.8126 16.8427 17.8084 16.8621 17.8004C16.8815 17.7923 16.8992 17.7805 16.9141 17.7656L17.7656 16.916C17.7805 16.9011 17.7923 16.8835 17.8004 16.864C17.8084 16.8446 17.8126 16.8238 17.8126 16.8027C17.8126 16.7817 17.8084 16.7609 17.8004 16.7414C17.7923 16.722 17.7805 16.7043 17.7656 16.6895ZM11.1406 11.1406C10.3125 11.9668 9.21484 12.4219 8.04688 12.4219C6.87891 12.4219 5.78125 11.9668 4.95312 11.1406C4.12695 10.3125 3.67188 9.21484 3.67188 8.04688C3.67188 6.87891 4.12695 5.7793 4.95312 4.95312C5.78125 4.12695 6.87891 3.67188 8.04688 3.67188C9.21484 3.67188 10.3145 4.125 11.1406 4.95312C11.9668 5.78125 12.4219 6.87891 12.4219 8.04688C12.4219 9.21484 11.9668 10.3145 11.1406 11.1406Z" fill="#B5B5B5"/>
                </svg>
                {
                    searchValue && 
                    searchValue !== "" &&
                    <SearchDropDown 
                        searchValue={searchValue} 
                        clearSearchValue={() => setSearchValue("")}
                    />
                }
                
            </div>
        </div>
    );
};

export default Search;