import React, {FC, useState, useCallback} from 'react';
import Button from '../common/Button';
import ShopMore from './ShopMore';
import UIkit from 'uikit';
import AnalogsModal from './AnalogsModal';

const modal = UIkit.modal('#modal-product-analogs');

/**
 * Таблица товаров "Цена корзины в магазине" в корзине
 * @returns JSX
 */
const ShopCartTable: FC = () => {
    
    const [isAdditionalInfoOpen, setAdditionalInfoOpen] = useState<boolean>(false);

    const openModal = useCallback(() => {
        modal && modal !== undefined && modal.show();
    }, []);

	return(
        <div className="shops-offers-table">
            <header>
                <h4 className="uk-margin-right">Цена корзины в магазине</h4>
                <img src="./img/shops/shop-3.png" alt="Перекресток" />
            </header>
            <div>
                <h5>Цена с картой магазина / без</h5>
            </div>
            <div>
                <table className="uk-table uk-table-responsive uk-table-small uk-table-divider">
                    <thead>
                        <tr>
                            <th className="uk-width-3-5 uk-text-left">Наименование</th>
                            <th className="uk-width-1-5 uk-text-center">Кол-во</th>
                            <th className="uk-width-1-5 uk-text-center">Цена</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div>
                                    <p>Молоко домик в деревне 5%</p>
                                    <button  className="uk-button uk-button-link">
                                        <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M7.65425 5.99999L12.5143 1.13999C12.6235 1.01246 12.6805 0.848406 12.6741 0.680622C12.6676 0.512838 12.598 0.353679 12.4793 0.234949C12.3606 0.116219 12.2014 0.0466642 12.0336 0.0401834C11.8658 0.0337026 11.7018 0.0907736 11.5743 0.199991L6.71426 5.05999L1.85426 0.193324C1.72672 0.0841068 1.56267 0.0270364 1.39489 0.0335172C1.2271 0.039998 1.06794 0.109553 0.949214 0.228282C0.830485 0.347012 0.76093 0.506171 0.754449 0.673955C0.747968 0.841739 0.805039 1.00579 0.914257 1.13332L5.77426 5.99999L0.90759 10.86C0.837802 10.9198 0.781122 10.9933 0.741106 11.076C0.701091 11.1587 0.678604 11.2488 0.675057 11.3406C0.671511 11.4324 0.686982 11.524 0.720498 11.6095C0.754014 11.6951 0.804853 11.7728 0.869823 11.8378C0.934793 11.9027 1.01249 11.9536 1.09804 11.9871C1.18359 12.0206 1.27515 12.0361 1.36696 12.0325C1.45877 12.029 1.54886 12.0065 1.63157 11.9665C1.71428 11.9265 1.78782 11.8698 1.84759 11.8L6.71426 6.93999L11.5743 11.8C11.7018 11.9092 11.8658 11.9663 12.0336 11.9598C12.2014 11.9533 12.3606 11.8838 12.4793 11.765C12.598 11.6463 12.6676 11.4871 12.6741 11.3194C12.6805 11.1516 12.6235 10.9875 12.5143 10.86L7.65425 5.99999Z" fill="#F76161"/>
                                        </svg>
                                    </button>
                                </div>
                            </td>
                            <td>
                                <div>
                                    <button>-</button>
                                    <span>1</span>
                                    <button>+</button>
                                </div>
                            </td>
                            <td>
                                <div className="uk-text-center">
                                    <h4>98 <span>₽</span></h4>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div>
                                    <p>Сыр Laime 5%</p>
                                    <button  className="uk-button uk-button-link">
                                        <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M7.65425 5.99999L12.5143 1.13999C12.6235 1.01246 12.6805 0.848406 12.6741 0.680622C12.6676 0.512838 12.598 0.353679 12.4793 0.234949C12.3606 0.116219 12.2014 0.0466642 12.0336 0.0401834C11.8658 0.0337026 11.7018 0.0907736 11.5743 0.199991L6.71426 5.05999L1.85426 0.193324C1.72672 0.0841068 1.56267 0.0270364 1.39489 0.0335172C1.2271 0.039998 1.06794 0.109553 0.949214 0.228282C0.830485 0.347012 0.76093 0.506171 0.754449 0.673955C0.747968 0.841739 0.805039 1.00579 0.914257 1.13332L5.77426 5.99999L0.90759 10.86C0.837802 10.9198 0.781122 10.9933 0.741106 11.076C0.701091 11.1587 0.678604 11.2488 0.675057 11.3406C0.671511 11.4324 0.686982 11.524 0.720498 11.6095C0.754014 11.6951 0.804853 11.7728 0.869823 11.8378C0.934793 11.9027 1.01249 11.9536 1.09804 11.9871C1.18359 12.0206 1.27515 12.0361 1.36696 12.0325C1.45877 12.029 1.54886 12.0065 1.63157 11.9665C1.71428 11.9265 1.78782 11.8698 1.84759 11.8L6.71426 6.93999L11.5743 11.8C11.7018 11.9092 11.8658 11.9663 12.0336 11.9598C12.2014 11.9533 12.3606 11.8838 12.4793 11.765C12.598 11.6463 12.6676 11.4871 12.6741 11.3194C12.6805 11.1516 12.6235 10.9875 12.5143 10.86L7.65425 5.99999Z" fill="#F76161"/>
                                        </svg>
                                    </button>
                                </div>
                            </td>
                            <td>
                                <div>
                                    <span className="not-in-catalog">Нет в каталоге</span>
                                </div>
                            </td>
                            <td>
                                <div className="uk-text-center">
                                    <h4>114 <span>₽</span></h4>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colSpan={3} className="uk-padding-remove">
                                <div className="analogs">
                                    <header>
                                        <h5>Аналоги</h5>
                                        <button 
                                            data-uk-toggle="target: #modal-product-analogs"
                                            onClick={openModal}
                                            className="uk-button uk-button-link">
                                            Смотреть все
                                        </button>
                                    </header>
                                    <div>
                                        <button className="uk-button uk-button-link">
                                            <svg width="50" height="51" viewBox="0 0 50 51" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <rect y="0.5" width="50" height="50" rx="25" fill="#F8F8FA"/>
                                                <path d="M28.0554 18.4725C28.289 18.4721 28.5155 18.5535 28.6954 18.7025C28.7966 18.7865 28.8803 18.8896 28.9417 19.0059C29.003 19.1223 29.0408 19.2496 29.0529 19.3806C29.065 19.5115 29.0511 19.6436 29.0121 19.7692C28.973 19.8948 28.9096 20.0115 28.8254 20.1125L24.3454 25.4725L28.6654 30.8425C28.7484 30.9448 28.8105 31.0625 28.8479 31.1889C28.8853 31.3152 28.8974 31.4477 28.8835 31.5787C28.8695 31.7097 28.8298 31.8367 28.7667 31.9524C28.7035 32.068 28.6181 32.17 28.5154 32.2525C28.4119 32.3436 28.2907 32.4122 28.1595 32.4542C28.0282 32.4962 27.8897 32.5106 27.7526 32.4965C27.6155 32.4824 27.4828 32.4402 27.3628 32.3724C27.2428 32.3046 27.1382 32.2127 27.0554 32.1025L22.2254 26.1025C22.0783 25.9236 21.9979 25.6992 21.9979 25.4675C21.9979 25.2359 22.0783 25.0115 22.2254 24.8325L27.2254 18.8325C27.3257 18.7115 27.4531 18.6159 27.5973 18.5533C27.7415 18.4908 27.8985 18.4631 28.0554 18.4725Z" fill="#262626"/>
                                            </svg>
                                        </button>
                                        <div>
                                            <div>
                                                <div>
                                                    <h5>Сыр Маасдам 2,5%</h5>
                                                    <p>Без глютена, низкая жирность, БЗМЖ</p>
                                                </div>
                                                <div>
                                                    <button>-</button>
                                                    <span>1</span>
                                                    <button>+</button>
                                                </div>
                                                <div>
                                                    <h4>118 <span>₽</span></h4>
                                                </div>
                                            </div>
                                            <div>
                                                <button className="uk-button uk-button-link">
                                                    Выбрать
                                                </button>
                                            </div>
                                        </div>
                                        <button className="uk-button uk-button-link">
                                            <svg width="50" height="51" viewBox="0 0 50 51" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <rect y="0.5" width="50" height="50" rx="25" fill="#F8F8FA"/>
                                                <path d="M22.9998 32.5C22.7662 32.5004 22.5397 32.4191 22.3598 32.27C22.2585 32.186 22.1748 32.0829 22.1135 31.9666C22.0521 31.8502 22.0143 31.7229 22.0023 31.5919C21.9902 31.461 22.0041 31.3289 22.0431 31.2033C22.0822 31.0777 22.1456 30.961 22.2298 30.86L26.7098 25.5L22.3898 20.13C22.3067 20.0277 22.2447 19.91 22.2073 19.7836C22.1698 19.6573 22.1578 19.5248 22.1717 19.3938C22.1856 19.2628 22.2253 19.1358 22.2885 19.0201C22.3517 18.9045 22.4371 18.8025 22.5398 18.72C22.6433 18.6289 22.7644 18.5603 22.8957 18.5183C23.027 18.4763 23.1655 18.4619 23.3026 18.476C23.4397 18.4901 23.5724 18.5323 23.6924 18.6001C23.8123 18.6679 23.917 18.7598 23.9998 18.87L28.8298 24.87C28.9769 25.0489 29.0573 25.2733 29.0573 25.505C29.0573 25.7366 28.9769 25.961 28.8298 26.14L23.8298 32.14C23.7295 32.261 23.6021 32.3567 23.4578 32.4192C23.3136 32.4817 23.1567 32.5094 22.9998 32.5Z" fill="#262626"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div>
                                    <p>Сок Rich яблочный</p>
                                    <button  className="uk-button uk-button-link">
                                        <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M7.65425 5.99999L12.5143 1.13999C12.6235 1.01246 12.6805 0.848406 12.6741 0.680622C12.6676 0.512838 12.598 0.353679 12.4793 0.234949C12.3606 0.116219 12.2014 0.0466642 12.0336 0.0401834C11.8658 0.0337026 11.7018 0.0907736 11.5743 0.199991L6.71426 5.05999L1.85426 0.193324C1.72672 0.0841068 1.56267 0.0270364 1.39489 0.0335172C1.2271 0.039998 1.06794 0.109553 0.949214 0.228282C0.830485 0.347012 0.76093 0.506171 0.754449 0.673955C0.747968 0.841739 0.805039 1.00579 0.914257 1.13332L5.77426 5.99999L0.90759 10.86C0.837802 10.9198 0.781122 10.9933 0.741106 11.076C0.701091 11.1587 0.678604 11.2488 0.675057 11.3406C0.671511 11.4324 0.686982 11.524 0.720498 11.6095C0.754014 11.6951 0.804853 11.7728 0.869823 11.8378C0.934793 11.9027 1.01249 11.9536 1.09804 11.9871C1.18359 12.0206 1.27515 12.0361 1.36696 12.0325C1.45877 12.029 1.54886 12.0065 1.63157 11.9665C1.71428 11.9265 1.78782 11.8698 1.84759 11.8L6.71426 6.93999L11.5743 11.8C11.7018 11.9092 11.8658 11.9663 12.0336 11.9598C12.2014 11.9533 12.3606 11.8838 12.4793 11.765C12.598 11.6463 12.6676 11.4871 12.6741 11.3194C12.6805 11.1516 12.6235 10.9875 12.5143 10.86L7.65425 5.99999Z" fill="#F76161"/>
                                        </svg>
                                    </button>
                                </div>
                            </td>
                            <td>
                                <div>
                                    <button>-</button>
                                    <span>1</span>
                                    <button>+</button>
                                </div>
                            </td>
                            <td>
                                <div className="uk-text-center">
                                    <h4>118 <span>₽</span></h4>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div>
                                    <p>Индейка Индилайт 900г</p>
                                    <button  className="uk-button uk-button-link">
                                        <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M7.65425 5.99999L12.5143 1.13999C12.6235 1.01246 12.6805 0.848406 12.6741 0.680622C12.6676 0.512838 12.598 0.353679 12.4793 0.234949C12.3606 0.116219 12.2014 0.0466642 12.0336 0.0401834C11.8658 0.0337026 11.7018 0.0907736 11.5743 0.199991L6.71426 5.05999L1.85426 0.193324C1.72672 0.0841068 1.56267 0.0270364 1.39489 0.0335172C1.2271 0.039998 1.06794 0.109553 0.949214 0.228282C0.830485 0.347012 0.76093 0.506171 0.754449 0.673955C0.747968 0.841739 0.805039 1.00579 0.914257 1.13332L5.77426 5.99999L0.90759 10.86C0.837802 10.9198 0.781122 10.9933 0.741106 11.076C0.701091 11.1587 0.678604 11.2488 0.675057 11.3406C0.671511 11.4324 0.686982 11.524 0.720498 11.6095C0.754014 11.6951 0.804853 11.7728 0.869823 11.8378C0.934793 11.9027 1.01249 11.9536 1.09804 11.9871C1.18359 12.0206 1.27515 12.0361 1.36696 12.0325C1.45877 12.029 1.54886 12.0065 1.63157 11.9665C1.71428 11.9265 1.78782 11.8698 1.84759 11.8L6.71426 6.93999L11.5743 11.8C11.7018 11.9092 11.8658 11.9663 12.0336 11.9598C12.2014 11.9533 12.3606 11.8838 12.4793 11.765C12.598 11.6463 12.6676 11.4871 12.6741 11.3194C12.6805 11.1516 12.6235 10.9875 12.5143 10.86L7.65425 5.99999Z" fill="#F76161"/>
                                        </svg>
                                    </button>
                                </div>
                            </td>
                            <td>
                                <div>                                
                                    <button>-</button>
                                    <span>1</span>
                                    <button>+</button>
                                </div>
                            </td>
                            <td>
                                <div className="uk-text-center">
                                    <h4>118 <span>₽</span></h4>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div className="table-total">
                    <h4>Итого:</h4>
                    <h4>
                        <svg width="30" height="28" viewBox="0 0 30 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0 1C0 0.734784 0.105357 0.48043 0.292893 0.292893C0.48043 0.105357 0.734784 0 1 0H4C4.22306 6.1623e-05 4.4397 0.0747014 4.61546 0.212049C4.79122 0.349398 4.91602 0.541568 4.97 0.758L5.78 4H29C29.1519 4.00004 29.3018 4.03469 29.4383 4.10131C29.5748 4.16792 29.6943 4.26477 29.7878 4.38448C29.8813 4.50419 29.9463 4.64363 29.9779 4.79222C30.0095 4.9408 30.0068 5.09462 29.97 5.242L26.97 17.242C26.916 17.4584 26.7912 17.6506 26.6155 17.788C26.4397 17.9253 26.2231 17.9999 26 18H8C7.77694 17.9999 7.5603 17.9253 7.38454 17.788C7.20878 17.6506 7.08398 17.4584 7.03 17.242L3.22 2H1C0.734784 2 0.48043 1.89464 0.292893 1.70711C0.105357 1.51957 0 1.26522 0 1ZM6.28 6L8.78 16H25.22L27.72 6H6.28ZM10 22C9.46957 22 8.96086 22.2107 8.58579 22.5858C8.21071 22.9609 8 23.4696 8 24C8 24.5304 8.21071 25.0391 8.58579 25.4142C8.96086 25.7893 9.46957 26 10 26C10.5304 26 11.0391 25.7893 11.4142 25.4142C11.7893 25.0391 12 24.5304 12 24C12 23.4696 11.7893 22.9609 11.4142 22.5858C11.0391 22.2107 10.5304 22 10 22ZM6 24C6 22.9391 6.42143 21.9217 7.17157 21.1716C7.92172 20.4214 8.93913 20 10 20C11.0609 20 12.0783 20.4214 12.8284 21.1716C13.5786 21.9217 14 22.9391 14 24C14 25.0609 13.5786 26.0783 12.8284 26.8284C12.0783 27.5786 11.0609 28 10 28C8.93913 28 7.92172 27.5786 7.17157 26.8284C6.42143 26.0783 6 25.0609 6 24ZM24 22C23.4696 22 22.9609 22.2107 22.5858 22.5858C22.2107 22.9609 22 23.4696 22 24C22 24.5304 22.2107 25.0391 22.5858 25.4142C22.9609 25.7893 23.4696 26 24 26C24.5304 26 25.0391 25.7893 25.4142 25.4142C25.7893 25.0391 26 24.5304 26 24C26 23.4696 25.7893 22.9609 25.4142 22.5858C25.0391 22.2107 24.5304 22 24 22ZM20 24C20 22.9391 20.4214 21.9217 21.1716 21.1716C21.9217 20.4214 22.9391 20 24 20C25.0609 20 26.0783 20.4214 26.8284 21.1716C27.5786 21.9217 28 22.9391 28 24C28 25.0609 27.5786 26.0783 26.8284 26.8284C26.0783 27.5786 25.0609 28 24 28C22.9391 28 21.9217 27.5786 21.1716 26.8284C20.4214 26.0783 20 25.0609 20 24Z" fill="#43B727"/>
                        </svg>
                        <span>450</span> <span>₽</span>
                    </h4>
                </div>
                <div className="table-additional-info">
                    <div>
                        <button 
                            onClick={() => setAdditionalInfoOpen(!isAdditionalInfoOpen)}
                            className="uk-button uk-button-link">
                                Доп. информация
                        </button>

                        {
                            isAdditionalInfoOpen ?
                            <button 
                                onClick={() => setAdditionalInfoOpen(!isAdditionalInfoOpen)}
                                className="uk-button uk-button-link">
                                <svg width="16" height="8" viewBox="0 0 16 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M8.00003 7.95801C7.76638 7.95847 7.53994 7.87709 7.36003 7.72801L1.36003 2.72801C1.15581 2.55827 1.02739 2.31436 1.00301 2.04993C0.978631 1.78551 1.06029 1.52223 1.23003 1.31801C1.39977 1.11379 1.64368 0.985368 1.90811 0.960988C2.17253 0.936608 2.43581 1.01827 2.64003 1.18801L8.00003 5.66801L13.36 1.34801C13.4623 1.26494 13.58 1.20291 13.7064 1.16548C13.8327 1.12805 13.9652 1.11595 14.0962 1.12989C14.2272 1.14383 14.3542 1.18353 14.4699 1.2467C14.5855 1.30988 14.6875 1.39528 14.77 1.49801C14.8616 1.60083 14.931 1.72146 14.9738 1.85233C15.0166 1.9832 15.0319 2.1215 15.0187 2.25857C15.0056 2.39563 14.9643 2.5285 14.8974 2.64886C14.8305 2.76922 14.7395 2.87446 14.63 2.95801L8.63003 7.78801C8.44495 7.91352 8.22313 7.97338 8.00003 7.95801Z" fill="#262626"/>
                                </svg>
                            </button> :
                            <button 
                                onClick={() => setAdditionalInfoOpen(!isAdditionalInfoOpen)}
                                className="uk-button uk-button-link">
                                <svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7.02219 1.00116C7.25584 1.0007 7.48227 1.08208 7.66219 1.23116L13.6622 6.23116C13.8664 6.4009 13.9948 6.64481 14.0192 6.90923C14.0436 7.17366 13.9619 7.43694 13.7922 7.64116C13.6224 7.84538 13.3785 7.9738 13.1141 7.99818C12.8497 8.02256 12.5864 7.9409 12.3822 7.77116L7.02219 3.29116L1.66218 7.61116C1.5599 7.69422 1.4422 7.75626 1.31586 7.79369C1.18952 7.83112 1.05703 7.84321 0.926003 7.82927C0.794975 7.81533 0.667993 7.77564 0.552356 7.71246C0.436719 7.64929 0.334707 7.56389 0.252185 7.46116C0.160605 7.35834 0.0912457 7.23771 0.0484533 7.10684C0.00566101 6.97596 -0.00964165 6.83766 0.00350094 6.7006C0.0166435 6.56354 0.05795 6.43066 0.124833 6.31031C0.191716 6.18995 0.282736 6.0847 0.392186 6.00116L6.39219 1.17116C6.57727 1.04564 6.79908 0.985788 7.02219 1.00116Z" fill="#262626"/>
                                </svg>
                            </button>
                        }
                        
                    </div>
                    <div>
                        <Button 
                            type="button"
                            classlist={"uk-button-primary"}
                            style={{
                                backgroundColor: "#EFCD1A",
                                padding: "1rem 2rem",
                                fontSize: "16px",
                                fontWeight: "600"
                            }}
                            onClick={() => {}}
                            text="Доставить за 2 часа"
                        />
                        <Button 
                            type="button"
                            classlist={"uk-button-primary"}
                            style={{
                                padding: "1rem 2rem",
                                fontSize: "16px",
                                fontWeight: "600"
                            }}
                            onClick={() => {}}
                            text="Сохранить"
                        />
                    </div>
                    
                </div>
                {
                    isAdditionalInfoOpen && <ShopMore />
                }
            </div>
            <AnalogsModal />
        </div>
    );
};

export default ShopCartTable;